
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Roy Notes</title>
  <meta name="author" content="roymax">
  <meta name="Generator" content="Jekyll & Octopress (http://octopress.org)">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://roynotes.com/blog/page/6/">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/octopress.min.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Roy Notes" type="application/atom+xml">
  

<!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-44129046-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


   
  <link href="/octopress-favicon.png" rel="icon">
</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Roy Notes</a></h1>
  
    <h2>21世纪的互联网居民</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:roynotes.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/archives/">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/msn-space宣布关闭">MSN Space宣布关闭</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2010-09-30T00:00:00+08:00" pubdate data-updated="true">Sep 30<span>th</span>, 2010</time>
         &bull; <a rel="bookmark" href="/blog/msn-space宣布关闭">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><p>曾经在有过好长一段时间在msn space上写一些关于生活情感的blog，没有文采横溢的句子与字词，只有属于我与亲人、朋友们的那些情那些事&#8230;&#8230;这两年也慢慢每年只在上面更新几篇文章，好少好少。</p>

<p>曾经有那么一段时间，我会通过MSN Space去了解朋友的近况，我也会写一些近况告诉大家发生的事。它就是我们沟通的桥梁之一。</p>

<p>曾经有那么一段时间，当我思绪万千的失落和迷茫时，它是我宣泄的窗口。</p>

<p>也总有一些时间，当我发呆地空洞的大脑会无意识地click这个空间去浏览自己写过的文章，一读再读，回想过去&#8230;&#8230;.</p>

<p>今天，知道它要关闭，总免有些伤感。虽然它能无痛地搬迁到wordpress，也不是为了需要爬墙访问而伤神，只是，有些事情它改变了就是改变，形在而神不同也.</p>
</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/play-cdn-support-module">Play CDN Support Module</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2010-09-22T00:00:00+08:00" pubdate data-updated="true">Sep 22<span>nd</span>, 2010</time>
         &bull; <a rel="bookmark" href="/blog/play-cdn-support-module">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><p>根据前一篇文章的实现思路写了这个插件，并放到了github，有需要的朋友请自行下载使用。</p>

<p><a title="PlayFramework CDN Support Module" href="http://github.com/roymax/play-cdn" target="_blank">http://github.com/roymax/play-cdn</a> {将不再维护和准备关闭了}</p>

<p><hr />
Notes: 从Play! 1.1开始已经华丽地通过修改route原生支持CDN部署。<br />
在route中修改原来的静态资源映射如下</p>

<p><code>
<div id="_mcePaste" style="padding-left: 30px;"><span style="color: #000000;"># Map static resources from the /app/public folder to the /public path</span></div>
<div id="_mcePaste" style="padding-left: 30px;"><span style="color: #000000;">#{if play.mode.isDev()}</span></div>
<div id="_mcePaste" style="padding-left: 30px;"><span style="color: #000000;">GET     /public/images/                			staticDir:public/images</span></div>
<div id="_mcePaste" style="padding-left: 30px;"><span style="color: #000000;">GET     /public/				                staticDir:public/</span></div>
<div id="_mcePaste" style="padding-left: 30px;"><span style="color: #000000;">#{/}</span></div>
<div id="_mcePaste" style="padding-left: 30px;"><span style="color: #000000;">#{else}</span></div>
<div id="_mcePaste" style="padding-left: 30px;"><span style="color: #000000;">GET     img.myapp.com/				        	staticDir:public/images</span></div>
<div id="_mcePaste" style="padding-left: 30px;"><span style="color: #000000;">GET     jscss.myapp.com/			     		staticDir:public</span></div>
<div id="_mcePaste" style="padding-left: 30px;"><span style="color: #000000;">#{/}</span></div>
</code></p>

<p>在引用资源的时候使用@@{} 而不是默认的@{}标签，如</p>

<p><code>
<p style="padding-left: 30px;">&lt;link rel="stylesheet" type="text/css" media="screen,projection" href="@@{'/public/stylesheets/style.css'}"&gt;</p></code></p>

<p></p>

<p><code> </code></p>

<p>以上代码能够在开发环境与部署环境中完美地自动切换。</p>

<p>具体看这里的 ， http://www.playframework.org/documentation/1.1RC1/releasenotes-1.1</p>

<p><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 300;">
<h2 id="anamerouteHostVirtualhostinginroutesa" style="margin-top: 30px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: inherit; font-style: inherit; font-size: 16px; font-family: inherit; vertical-align: baseline; padding: 0px; border: 0px initial initial;"><span style="color: #444444; font-size: x-large;"><span><span style="color: #000000;">
<h2 id="anamerouteHostVirtualhostinginroutesa" style="margin-top: 30px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: inherit; font-style: inherit; font-size: 16px; font-family: inherit; vertical-align: baseline; padding: 0px; border: 0px initial initial;"><a style="padding-top: 1px; padding-right: 5px; padding-bottom: 1px; padding-left: 5px; outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: 200; font-style: normal; font-size: 20px; font-family: inherit; vertical-align: baseline; color: #444444; background-color: #b3e862; margin: 0px; border: 0px initial initial;" name="routeHost">Virtual hosting in routes</a></h2>
<p style="margin-top: 20px; margin-right: 0px; margin-bottom: 20px; margin-left: 0px; outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: inherit; font-style: inherit; font-size: 16px; font-family: inherit; vertical-align: baseline; padding: 0px; border: 0px initial initial;">The <strong>routes</strong> file now supports Host matching. this can be useful if action parameters must be extracted from the host parameter. For example, for a SAAS application, you could use:</p></span></span></span></h2></span></p>

<p><pre style="outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: inherit; font-style: inherit; font-size: 16px; font-family: inherit; vertical-align: baseline; overflow-x: hidden; overflow-y: hidden; white-space: pre-wrap; word-wrap: break-word; padding: 0px; margin: 0px; border: 0px initial initial;"><code style="margin-top: 5px; margin-right: 0px; margin-bottom: 5px; margin-left: 0px; padding-top: 5px; padding-right: 10px; padding-bottom: 5px; padding-left: 10px; border-top-width: 1px; border-right-width: 0px; border-bottom-width: 1px; border-left-width: 0px; border-style: initial; border-color: initial; outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: inherit; font-style: inherit; font-size: 14px; font-family: monospace, Helvetica, Arial, sans-serif; vertical-align: baseline; display: block; background-color: #e0ffb8; border-bottom-style: solid; border-bottom-color: #94da3a; border-top-style: solid; border-top-color: #94da3a;">GET    {client}.mysoftware.com/         Application.index
</code></pre>
<p style="margin-top: 20px; margin-right: 0px; margin-bottom: 20px; margin-left: 0px; outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: inherit; font-style: inherit; font-size: 16px; font-family: inherit; vertical-align: baseline; padding: 0px; border: 0px initial initial;">and then automatically retrieve the <strong>client</strong> value as for any other request parameter:</p></p>

<p><pre style="outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: inherit; font-style: inherit; font-size: 16px; font-family: inherit; vertical-align: baseline; overflow-x: hidden; overflow-y: hidden; white-space: pre-wrap; word-wrap: break-word; padding: 0px; margin: 0px; border: 0px initial initial;"><code style="margin-top: 5px; margin-right: 0px; margin-bottom: 5px; margin-left: 0px; padding-top: 5px; padding-right: 10px; padding-bottom: 5px; padding-left: 10px; border-top-width: 1px; border-right-width: 0px; border-bottom-width: 1px; border-left-width: 0px; border-style: initial; border-color: initial; outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: inherit; font-style: inherit; font-size: 14px; font-family: monospace, Helvetica, Arial, sans-serif; vertical-align: baseline; display: block; background-color: #e0ffb8; border-bottom-style: solid; border-bottom-color: #94da3a; border-top-style: solid; border-top-color: #94da3a;">public static void index(String client) {
    ...
}
</code></pre>
<p style="margin-top: 20px; margin-right: 0px; margin-bottom: 20px; margin-left: 0px; outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: inherit; font-style: inherit; font-size: 16px; font-family: inherit; vertical-align: baseline; padding: 0px; border: 0px initial initial;">When using the <strong>@@{&#8230;}</strong> notation (absolute reverse routing) in a template, the host will be used if provided by the corresponding route. This can be useful in several situations.</p>
<p style="margin-top: 20px; margin-right: 0px; margin-bottom: 20px; margin-left: 0px; outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: inherit; font-style: inherit; font-size: 16px; font-family: inherit; vertical-align: baseline; padding: 0px; border: 0px initial initial;">For example, if you want to use a content distribution network to distribute your static assets in production, you could write a <strong>routes</strong> file like this:</p></p>

<p><pre style="outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: inherit; font-style: inherit; font-size: 16px; font-family: inherit; vertical-align: baseline; overflow-x: hidden; overflow-y: hidden; white-space: pre-wrap; word-wrap: break-word; padding: 0px; margin: 0px; border: 0px initial initial;"><code style="margin-top: 5px; margin-right: 0px; margin-bottom: 5px; margin-left: 0px; padding-top: 5px; padding-right: 10px; padding-bottom: 5px; padding-left: 10px; border-top-width: 1px; border-right-width: 0px; border-bottom-width: 1px; border-left-width: 0px; border-style: initial; border-color: initial; outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: inherit; font-style: inherit; font-size: 14px; font-family: monospace, Helvetica, Arial, sans-serif; vertical-align: baseline; display: block; background-color: #e0ffb8; border-bottom-style: solid; border-bottom-color: #94da3a; border-top-style: solid; border-top-color: #94da3a;">#{if Play.mode.isDev()}
    GET     /public/                        staticDir:public
#{/}
#{else}
    GET     assets.myapp.com/               staticDir:public
#{/}
</code></pre>
<p style="margin-top: 20px; margin-right: 0px; margin-bottom: 20px; margin-left: 0px; outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: inherit; font-style: inherit; font-size: 16px; font-family: inherit; vertical-align: baseline; padding: 0px; border: 0px initial initial;">And in your templates:</p></p>

<p><pre style="outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: inherit; font-style: inherit; font-size: 16px; font-family: inherit; vertical-align: baseline; overflow-x: hidden; overflow-y: hidden; white-space: pre-wrap; word-wrap: break-word; padding: 0px; margin: 0px; border: 0px initial initial;"><code style="margin-top: 5px; margin-right: 0px; margin-bottom: 5px; margin-left: 0px; padding-top: 5px; padding-right: 10px; padding-bottom: 5px; padding-left: 10px; border-top-width: 1px; border-right-width: 0px; border-bottom-width: 1px; border-left-width: 0px; border-style: initial; border-color: initial; outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: inherit; font-style: inherit; font-size: 14px; font-family: monospace, Helvetica, Arial, sans-serif; vertical-align: baseline; display: block; background-color: #e0ffb8; border-bottom-style: solid; border-bottom-color: #94da3a; border-top-style: solid; border-top-color: #94da3a;">&lt;img src="@@{'/public/images/logo.png'}"&gt;
</code></pre>
<p style="margin-top: 20px; margin-right: 0px; margin-bottom: 20px; margin-left: 0px; outline-width: 0px; outline-style: initial; outline-color: initial; font-weight: inherit; font-style: inherit; font-size: 16px; font-family: inherit; vertical-align: baseline; padding: 0px; border: 0px initial initial;">This will be reversed as <strong>http://locahost:9000/public/images/logo.png</strong> in DEV mode, and<strong>http://assets.myapp.com/images/logo.png</strong> in PROD mode.</p></p>

<p><div></div>

</p>
</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/配置playframework的静态资源使用cdn路径">配置PlayFramework的静态资源使用CDN路径</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2010-09-18T00:00:00+08:00" pubdate data-updated="true">Sep 18<span>th</span>, 2010</time>
         &bull; <a rel="bookmark" href="/blog/配置playframework的静态资源使用cdn路径">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><p>在互联网应用中，我们通常都需要将动态请求与静态请求分离，或使用独立域名，或使用子域名，或使用CDN分发。同时为了减少生产部署与开发环境切换时更改大量文件，一般都通过修改一个配置文件来实现。</p>

<p>但偏偏现在大部分框架都没有提供这样一个模块实现，那只好自己简单处理一下。同样在PlayFramework中一样没有这样的设置。google group( <a title="Redirect staticDir:public to a sub domain" href="http://groups.google.com/group/play-framework/browse_thread/thread/1d681f866477ac6b" target="_blank">http://groups.google.com/group/play-framework/browse_thread/thread/1d681f866477ac6b</a> )中有关于这个问题的描述, 刚开始我也一样，想修改routes中的staticDir:public 配置, 但不成功于是找到这个帖子。作者非常明确地告诉我@{..}语法只工作在相同域名下。跟着，我想将我的子域名配置在application.conf中，通过读取它添加到资源路径上。我认为，我只需要在模板(Template engine)中找办法成功读取到application.conf就算成功了。</p>

<p>结果，我找到了它：#{script &#8216;jquery.js&#8217; /} (<a title="http://www.playframework.org/documentation/1.0.3/templates" href="http://www.playframework.org/documentation/1.0.3/templates" target="_blank">http://www.playframework.org/documentation/1.0.3/templates</a>)，它的作用是生成&lt;script type=&#8221;text/javascript&#8221; language=&#8221;javascript&#8221;  src=&#8221;/public/javascripts/jquery.js&#8221;&gt;&lt;/script&gt;这个js的引用，查找源代码(play/framework/templates/tags/script.tag)可以知道，你的js文件是必须放到/public/javascripts下的，到这里我已经对Tags这个功能眼前一亮了，我知道我找的就是它。只要我创建一个Tags，我就可以在静态资源前加上子域名了。</p>

<p>（其实 #{script &#8216;jquery.js&#8217;} 跟main.html这个默认布局里的<br />
&lt;script src=&#8221;@{&#8216;/public/javascripts/jquery-1.4.2.min.js&#8217;}&#8221; type=&#8221;text/javascript&#8221; charset=&#8221;utf-8&#8221;&gt;&lt;/script&gt;<br />
产生的效果是一样的）
<blockquote>试着做了一个实现，在项目路径/app/views/创建tags目录，复制script.tag源代码改名建立一个script_cdn.tag，16行加入
<code>_domain = play.configuration.getProperty("script_cdn", "");</code></blockquote>
<blockquote>
在最后一行/public/前加入
<code>#{if _domain}${_domain}#{/if}</code></blockquote>
<blockquote>
保存，并在application.conf中加入（请将＝号后面改成你本机的地址）
<code>script_cdn=http://aquarius.local:9000</code></blockquote>
<blockquote>
现在已经完成了，你可以在页面调用它看看
<code>#{script_cdn 'jquery.js' /}</code></blockquote>
样式表也可以如法炮制，看看stylesheet.tag去吧。</p>

<p>完整的script_cdn.tag</p>

<p><code>
<div id="_mcePaste">*{</div>
<div id="_mcePaste">*  insert a script tag in the template.</div>
<div id="_mcePaste">*  by convention, referred script must be put under /public/javascripts</div>
<div id="_mcePaste">*    src     (required)   : script filename, without the leading path "/public/javascripts"</div>
<div id="_mcePaste">*    id      (opt.)       : sets script id attribute</div>
<div id="_mcePaste">*    charset (opt.)       : sets source encoding - defaults to UTF-8</div>
<div id="_mcePaste">*    #{script id:'datepicker' , src:'ui/ui.datepicker.js', charset:'utf-8' /}</div>
<div id="_mcePaste">}*</div>
<div id="_mcePaste">%{</div>
<div id="_mcePaste">( _arg ) &amp;&amp;  ( _src = _arg);</div>
<div id="_mcePaste">if(! _src) {</div>
<div id="_mcePaste">throw new play.exceptions.TagInternalException("src attribute cannot be empty for script tag");</div>
<div id="_mcePaste">}</div>
<div id="_mcePaste">_domain = play.configuration.getProperty("script_cdn", "");</div>
<div id="_mcePaste">}%</div>
<div id="_mcePaste">&lt;script type="text/javascript" language="javascript"#{if _id} id="${_id}"#{/if}#{if _charset} charset="${_charset}"#{/if}  src="#{if _domain}${_domain}#{/if}/public/javascripts/${_src}"&gt;&lt;/script&gt;</div>
</code></p>
</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/qiankundanuo">乾坤大挪移</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2010-09-15T00:00:00+08:00" pubdate data-updated="true">Sep 15<span>th</span>, 2010</time>
         &bull; <a rel="bookmark" href="/blog/qiankundanuo">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><p><p>借用好友的空间做了个wordPress，准备来一次乾坤大挪移</p></p>
</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/量产均码与量体裁衣">量产均码与量体裁衣</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2010-08-20T00:00:00+08:00" pubdate data-updated="true">Aug 20<span>th</span>, 2010</time>
         &bull; <a rel="bookmark" href="/blog/量产均码与量体裁衣">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><p><p>&nbsp;</p>
<p style="font-family: 'Lucida Grande'; line-height: normal; font-size: small;">古代的衣服有没有均码我就无从查证了，但从电视剧的古装片中倒又好像没有看到过有人去某店铺挑选做好的衣服，而大多数场景都是去买布裁衣。所以我认为，古代的人都是根据各自的高低肥瘦不同体形而量身订做自己衣服的。既然是专门订制，那必定是合身舒适的，将主人的体态品味完全突现出来。</p>
<p style="font-family: 'Lucida Grande'; line-height: normal; font-size: small;">而且还可以DIY一下﻿，我记得我小时候，那时候的百货商场是有衣钮卖的，好多不同的款式大小方便人们挑选来搭配自己所买到的布匹。现在的百货商场里根本就没有那东西，现在专门去买布量身订做的人已经好少了。商场里成衣琳琅满目，尺寸齐全，根本没有必要买布量身还要等待，最怕是不知到师傅做出来效果如何，师傅的手艺的好坏直接影响衣服的可观赏性与舒适度啊。成衣多好，我挑到合眼缘的还可以试穿。</p>
<p style="font-family: 'Lucida Grande'; line-height: normal; font-size: small;">成衣虽好，唯一的缺点就是均码不好﻿﻿。高瘦型，挑中码吧，太短，挑大码吧，太宽；胖矮型，刚好相反中码太小，大码太短；还有些超肥的，大大码，但一般时尚品与他们无关&#8230;&#8230;.另外还是外贸的衣服尺寸大中小码又跟国内尺寸还是有少少差别的，反正就需要左挑右选才会选择到跟自己合适的衣服。</p>
<p style="font-family: 'Lucida Grande'; line-height: normal; font-size: small;">对比一下特点：</p>
<ul style="font-family: 'Lucida Grande'; line-height: normal; font-size: small;">
<li>量身订做：美观，合身，根据自身要求订制，DIY，但制作周期长，费用高，还要承担货不对版的风险</li>
<li>量产均码：同样美观，需要你的身体去适应衣服，没有制作周期长，费用相对较低，可以选择到合适为止</li>
</ul>
<p style="font-family: 'Lucida Grande'; line-height: normal; font-size: small;">这情况其实跟我们现在的开源软件与企业订制软件一样，开源软件就像量产的均码，大而全的满足大家的需要，它可以低成本甚至免费的提供给大家使用，但是否每一个环节都合乎用者需求呢？也未必，所以有了二次开发形成。就像我们买条裤子也要改改裤脚以适合我们的脚的长度。</p>
<p style="font-family: 'Lucida Grande'; line-height: normal; font-size: small;">而企业根据自身需求订制的软件，如果工程师能够切入确实需求完成，那的确是完美的一个项目。但往往可以会有&ldquo;货不对版&rdquo;的风险。但也有可能是需求不明确，你到底是用牛仔布做一条微喇叭式的还是直筒款式的牛仔裤啊？而往往还有人去工程师所使用的工具令至项目不成功&#8230;&#8230;.</p>
<p style="font-family: 'Lucida Grande'; line-height: normal; font-size: small;">无论量产均码又好，量身订做又好，其实我想基本需求我们总是需要好清楚才行。现货你总是可以千挑万选而决策然后再修改，订做吗当然要想清楚自己要穿什么面料请个怎样的设计师吧？</p>
<p style="font-family: 'Lucida Grande'; line-height: normal; font-size: small;">好多架构师都说在系统设计中够用就好，其实就是说将用户的需求作为最终目标导向，不要过分追求技术的完美。为用户量体裁衣解决用户问题才是真正的好裁缝。偏偏在某些时候，我们好多需求是希望大而全并不考虑某功能是否真正需要的，非要举个例子的话，对于Discuz来说，大部分企业根本不需要，只需要一个JForum，够用了。</p>
<p style="font-family: 'Lucida Grande'; line-height: normal; font-size: small;">OK，以上全是没文法的废话</p>
<p>&nbsp;</p></p>
</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/the_homebrew_better_than_the_macports">Homebrew比丑陋的MacPorts更好</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2010-08-03T00:00:00+08:00" pubdate data-updated="true">Aug 3<span>rd</span>, 2010</time>
         &bull; <a rel="bookmark" href="/blog/the_homebrew_better_than_the_macports">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><p>对于一般用户来说，使用<a title="macports" href="http://www.macports.org" target="_blank">macports</a>来做包管理还是比较方便的，我的macbook上也老早就装上了macports了，但一直没有去用它，因为感觉它有点恶心丑陋。其实我一直担心它污染我的系统，因为它的依赖机制是根据自身来检查的，只要你的软件不是用macports安装的，即使你系统中已经存在里该依赖包（即使同一版本）它也会被下载回来安装一遍。还引申出另一些问题是，系统中有很多相同软件的不同版本、浪费磁盘空间、安装速度因为依赖包过多而非常缓慢&#8230;&#8230;如果你可以忍受这些，macports还是挺方便的。可惜我实在受不了，终于我发现了<a title="homebrew" href="http://github.com/mxcl/homebrew" target="_blank">Homebrew</a>这个替换者，由于homebrew声明与macports不兼容，我马上把macports删除了试用homebrew。</p>

<p>先删除macports
<pre class="brush: bash;fontsize: 100; first-line: 1; ">sudo port -f uninstall installed
sudo rm -rf \
/opt/local \
/Applications/DarwinPorts \
/Applications/MacPorts \
/Library/LaunchDaemons/org.macports.* \
/Library/Receipts/DarwinPorts*.pkg \
/Library/Receipts/MacPorts*.pkg \
/Library/StartupItems/DarwinPortsStartup \
/Library/Tcl/darwinports1.0 \
/Library/Tcl/macports1.0 \
~/.macports</pre>
<span style="background-color: #ffffff;"><span style="color: #ff9900;"><span style="white-space: pre;"> </span>注意: /opt/local目录如果自己安装过软件，请修改一下</span></span><span style="white-space: pre;">
</span></p>

<p><span style="white-space: pre;"> </span>然后安装Homebrew，一行搞定
<pre class="brush: ruby;light: true; collapse: true; fontsize: 100; first-line: 1; "><span style="background-color: #ffffff;">ruby -e "$(curl -fsS http://gist.github.com/raw/323731/install_homebrew.rb)"</span></pre>
<span style="white-space: pre;"> </span>homebrew是用ruby开发的，在mac下默认就安装了ruby发行包的，下面就等自动下载安装homebrew吧。</p>

<p><span style="white-space: pre;"> </span>安装完成后，测试一下
<pre class="brush: bash;fontsize: 100; first-line: 1; ">brew -v</pre>
<span style="white-space: pre;"> </span>返回Homebrew的版本号说明安装成功。安装软件可以用<span style="background-color: #ff00ff;">brew install package</span>命令，因为wget常用来测试而mac又没有自带，所以测试一下:
<pre class="brush: bash;fontsize: 100; first-line: 1; ">brew install wget</pre>
自动完成后which wget看看安装路径，默认安装到了/usr/local/bin下。好了，可以使用系统自带的库而不需要为macports的方式闹心</p>
</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/recommended_sugarsync_sync_your_files">推荐SugarSync同步你的文件</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2010-07-26T00:00:00+08:00" pubdate data-updated="true">Jul 26<span>th</span>, 2010</time>
         &bull; <a rel="bookmark" href="/blog/recommended_sugarsync_sync_your_files">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><p><p>之前一直在用Dropbox来同步我的文件，并且达到非常好的效果，我也推荐我身边的朋友都应该用一用它。特别是当你有几台电脑时，通过文件夹共享的方式在电脑之间来同步传递文件也是一件痛苦的事，往往造成文件有多个副本。</p>
<p>Dropbox的出现改变了我的工作方式，它非常好，但同时GFW的强大无耻也改变了的工作方式，Dropbox被墙后我好像又回到过去，每次我都需要爬墙后方可做文件同步，Dropbox的方便性又大打了折扣。</p>
<p>昨天我发现了<span style="font-family: Arial, 微软雅黑, Georgia, sans-serif; line-height: 18px;"><a href="https://www.sugarsync.com/referral?rf=creirgbj05ppe" target="_blank">SugarSync</a></span>，它有着 Dropbox一样的功能，同时提供了中文界面，重要的是跟dropbox一样有osx的客户端支持，经过短暂的试用后，我准备暂时离弃一下Dropbox了。</p>
<p><span style="font-family: Arial, 微软雅黑, Georgia, sans-serif; line-height: 18px;">和 Dropbox 一样，<a href="https://www.sugarsync.com/referral?rf=creirgbj05ppe" target="_blank">SugarSync</a> 初始提供 2 GB 空间，完成两个简单的基础任务后得到 0.5 GB 奖励。如果邀请朋友注册，邀请者和被邀请者均附加奖励 250 MB 空间。在此提供邀请链接一枚，欢迎点击注册，获得 250MB 空间奖励：https://www.sugarsync.com/referral?rf=creirgbj05ppe</span></p></p>
</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/everyone-should-be-a-project-manager">人人都应该是项目经理</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2010-06-10T00:00:00+08:00" pubdate data-updated="true">Jun 10<span>th</span>, 2010</time>
         &bull; <a rel="bookmark" href="/blog/everyone-should-be-a-project-manager">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><p>如果有副标题，我会写上：给我亲爱的同事之建议</p>

<p>周二参加了一个&#8221;<a title="项目管理" href="http://zh.wikipedia.org/zh-cn/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86" target="_blank">项目管理</a>&#8220;的培训，会间同事们都非常活跃的参与发言和聆听，唯一不足的是，真希望这个会议是有结论性的，大家必须执行。无论如何，我个人来说也获益非浅，结合自己这两年来的经验写一点体会吧。
<ol>
	<li>做好计划</li>
有一次跟一位同事聊天，她说：“公司所有的资源线都投入了到了一线项目A中去，虽然这个项目是公司最重要的头号项目，但我的项目重要性怎么也排在第二啊，难道那个就是必定成功必须完成的项目，我的就不是吗？”当时我问她：“你觉得问题在你自己哪里吗？每个月初有做好自己项目的本月计划吗？当计划变化时有及时跟进及时修改计划和通知其他相干的人吗？”当然，我也不是专家，我只是觉得，当有一个好的计划，就有资本去跟来抢我资源的人讨价还价，最起码现状是，我做好了计划按步就班地工作，来跟我抢的人没有。我认为计划跟邮件一样，是一个抢银抢粮抢地盘的好工具</ol><br />
	<li>跟进任务，及时调整计划</li>
这也是我们经常的问题，当项目中的任务目标或时间因不可抗拒因素变更，没有及时地知会相关协作人，造成资源支撑部门没有及时跟进调整计划，造成资源浪费。试想想，如果资源线的计划调整了，可以将优先度相对低的工作先完成了不是更好？但我们偏偏可能在最后一刻才知道，计划已经改变了。<br />
	<li>《<a title="不小心做了经理" href="http://finance.jrj.com.cn/book/book/bookinfo_656.shtml" target="_blank">不小心做了经理</a>》真的应该看看</li>
项目冠军是中性词，他有好的一面，也有坏的一面，我想一家创业公司里面它是否应该项目冠军要比真正的项目经理多才合理呢，毕竟我们在招人时希望聘请到的是一位领域技术能力出众的同事。往往这种同事就极可能是项目冠军，某种程度上，项目冠军更容易升迁，事实是大部分公司在上级人事变动后，新负责人都会从部门里提拨，这叫“意外型经理人”。我用了两年时间才理解到“有所不为”，当需要你作为项目管理者时，做得太多就是失败，我们应该只做项目经理该做的事情，不要做项目冠军该做的事情。<br />
	<li>将单个任务看作一个项目</li>
每个人都应该有自己的任务计划，每个人都有责任向上级汇报任务进度。每个人领到一个任务都应该将这个任务当成是一个项目来管理，在这个项目里的资源其实不止你一个人，可能还包括其他资源线的人物，因为你可以需要找A去沟通执行，而A可能受制于其他项目的某个任务。每一个任务可能需要N个步骤，每个步骤难道就是“任务分解”？既然如此了，何不做个自己的ToDo-List呢？我建议大家学习一下<a title="Getting Things Done" href="http://zh.wikipedia.org/zh-cn/GTD" target="_blank">GTD</a>，一个有关于时间任务管理的工具。
<div>其实有一些工具可以帮助我们工作得更好的，如：<a title="6顶思考帽子" href="http://zh.wikipedia.org/zh-cn/%E5%85%AD%E9%A1%B6%E6%80%9D%E8%80%83%E5%B8%BD%E5%AD%90" target="_blank">6顶思考帽</a> 可以帮助我们改进会议流程；<a title="“制约理论”(TOC，Theory of　Constraints)" href="http://zh.wikipedia.org/zh-cn/%E7%9B%AE%E6%A0%87_(%E5%B0%8F%E8%AF%B4)">ToC管理</a>(<a href="http://zh.wikipedia.org/zh-cn/%E5%85%B3%E9%94%AE%E9%93%BE" target="_blank">关键链</a>)可以改善我们的工作流程；<a title="心智图" href="http://zh.wikipedia.org/zh-cn/%E8%85%A6%E5%9C%96">脑图</a> 可以改变我们的思考方式&#8230;&#8230;..关键的一点是，大家需要有共同的理念，一起实施一起成长。</div>
<div>个人认为，《<a href="http://book.douban.com/subject/1464588/">关键链</a>》描述的方式非常适合我们学习，让每个人去推进，汇报工作，不断反馈，不断改进.</div>
<blockquote>
<div style="text-align: left;"><span style="color: #800000;">1、安全时间的设置，关键路径接口加缓冲，缩减各环节安全时间，增加项目安全时间；<br />
2、除了项目关键路径，考虑到资源情况，这就是所谓的关键链，时刻关注链条安全情况；<br />
3、从各个角度解决浪费安全时间的问题（学生症候群，有时间就拖；多重任务同时执行，不聚焦；各环节的依存情况产生的影响）。 </span></div></blockquote>
其中“学生症候群”不正是我们经常见到的问题吗？</p>
</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/integration-playframework_scala_gae_siena">Playframework+scala+gae!wow&#8230;</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2010-06-08T00:00:00+08:00" pubdate data-updated="true">Jun 8<span>th</span>, 2010</time>
         &bull; <a rel="bookmark" href="/blog/integration-playframework_scala_gae_siena">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><p>OK,首先更正一下自己，我一直以为scala是跑在JVM内的动态语言，其实它还不算动态语言，它只是有很多动态语言的特性罢了。scala希望成为一门将函数式编程与面向对象组合在一起的语言。<br />
playframework又是一个非常轻量级的框架，它的官网列出五个最cool的特性<a href="http://www.playframework.org/documentation/1.0.2.1/5things" target="_blank">http://www.playframework.org/documentation/1.0.2.1/5things</a>
。当我试用后，我真的觉得是酷极了。<br />
当scala与play！这两个这么有趣的东西结合到一起，真是欲罢不能～</p>

<p>看看这个介绍的视频，非常简单有趣
<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="400" height="263" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="data" value="http://vimeo.com/moogaloop.swf?clip_id=7731173&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=&amp;fullscreen=1" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="src" value="http://vimeo.com/moogaloop.swf?clip_id=7731173&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=&amp;fullscreen=1" /><embed type="application/x-shockwave-flash" width="400" height="263" src="http://vimeo.com/moogaloop.swf?clip_id=7731173&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=&amp;fullscreen=1" allowscriptaccess="always" allowfullscreen="true" data="http://vimeo.com/moogaloop.swf?clip_id=7731173&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=&amp;fullscreen=1"></embed></object></p>

<p><a href="http://vimeo.com/7731173">Play with scala</a> from <a href="http://vimeo.com/user2463720">zenexity</a> on <a href="http://vimeo.com">Vimeo</a>.</p>

<p>参照着例子（<a href="http://sites.google.com/site/scalatohoku/dai74kaibenkyoukai/starting-up-the-project-scala-version--memo" target="_blank">http://sites.google.com/site/scalatohoku/dai74kaibenkyoukai/starting-up-the-project-scala-version&#8211;memo</a>）写了一个类试了试，非常顺利地完成。</p>

<p>但成使用play的gae模块就不是这样顺利了，搞了两天没有搞定，play-gae有说明支持JPA，可能我配置不正确，同时它也极力推荐使用另一个ORM框架 &#8212; siena （<a href="http://sienaproject.com/" target="_blank">http://sienaproject.com/</a>,很不幸，官网被墙的访问：<a href="http://code.google.com/p/siena" target="_blank">http://code.google.com/p/siena</a>）。无奈之下，唯一下载安装测试。<br />
经过多次调试，最后还是有问题，当scala编译成class后实例变量是private的，而siena通过反射来获取成员变量，所以抛出一个java.lang.IllegalAccessException（<a href="http://bit.ly/aX1sr9" target="_blank">http://bit.ly/aX1sr9</a>），已经有人提交了这个BUG，同时作
<script src="../tinymce/themes/advanced/langs/zh.js" type="text/javascript"></script>
 <script src="../tinymce/plugins/wordpress/langs/zh.js" type="text/javascript"></script>
者也已经修复，但最新的下载包还是2月份发布的，不包括这个patch。</p>

<p>最后尝试下载siena源码编译，但依赖关系还未搞定，准备边尝试编译边期望作者发布一个新的小版本吧～</p>
</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/html5_geolocation_demo">尝试HTML5物理定位</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2010-06-01T00:00:00+08:00" pubdate data-updated="true">Jun 1<span>st</span>, 2010</time>
         &bull; <a rel="bookmark" href="/blog/html5_geolocation_demo">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><p>geolocation是html5规范中的新特性，它主要通过GPS和IP地址来猜测客户端的上网位置，输出位置信息。换言之，如果没有GPS设备，它将使用后者来猜测你的位置，所以结果不是绝对精准的。</p>

<p>规范的详细文档可浏览：<a href="http://dev.w3.org/geo/api/spec-source.html">http://dev.w3.org/geo/api/spec-source.html</a></p>

<p>当前并不是所有的浏览器都支持geolocation，在目前为止以下浏览器支持该新特性：IE8,safari4,chrome,Opera(我没验证)。但如果你的应用需要在非以上浏览中实现类似geolocation的功能，可以使用google location services,可以参考文章<a href="http://blog.bcse.info/get-geolocation-via-javascript">http://blog.bcse.info/get-geolocation-via-javascript</a></p>

<p>为保障使用者安全，使用该API时浏览器会询问用户是否启用该功能。如图：</p>

<p><a title="Flickr 上 roymax 的 geolocation" href="http://www.flickr.com/photos/roymax/4658866115/"><img src="http://farm2.static.flickr.com/1287/4658866115_efe433b800.jpg" alt="geolocation" width="500" height="75" /></a></p>

<p>只有允许API才生效。</p>

<p>通常使用<span style="color: #000000;"><strong>getCurrentPosition</strong></span>来获取使用者当前的位置，如果需要的跟踪使用者的位置调用<strong>watchPosition</strong>，传闻后者可以为移动设备更节省电力，手上没有移动设备，也并未理解它们之间的分别。</p>

<p>无论使用以上那个，都返回一个Position对象来描述物理位置，它包含调用者的经纬坐标（coords）&#8211;经度、纬度、海拨、准确度等等&#8230;&#8230;部分参数是需要具体实现支持的，如果没有将返回默认值null.</p>

<p>下面是geolocation最简单的调用例子：</p>

<p><code> </code></p>

<p><code>&lt;script&gt;</code></p>

<p>if (navigator.geolocation) {</p>

<p>navigator.geolocation.getCurrentPosition(function(position){</p>

<p>alert(&#8220;latitude = &#8221; + position.coords.latitude+ &#8221;\nlongitude = &#8221; + position.coords.longitude);</p>

<p>});</p>

<p>} else {</p>

<p><span style="white-space: pre;"> </span>error(&#8216;not supported&#8217;);</p>

<p>}</p>

<p></p>

<p><code>&lt;/script&gt;</code></p>

<p>它返回了当前的物理位置，并通过警告窗口显现。该API本身是非常简单，期待更多基于该API的新应用产生。当定位信息准确化后，它将改变我们的生活，同时也给我们带来相对的痛苦。当然，只是相对的。。。</p>

<p>以下是<a href="http://html5demos.com/geo">http://html5demos.com/geo</a>上显视壬丰大厦的物理位置
<a title="Flickr 上 roymax 的 renfeng" href="http://www.flickr.com/photos/roymax/4659678304/"><img src="http://farm5.static.flickr.com/4024/4659678304_6e87fdc1fd.jpg" alt="renfeng" width="500" height="467" /></a></p>

<p>参考资料：
<ul>
	<li> <a href="http://html5demos.com/geo">http://html5demos.com/geo</a> ,  相对完整并整合了google map的例子</li>
	<li><span style="color: #0000ee;"><span style="text-decoration: underline;"><a href="http://www.mijia.org/blog/?p=198">http://www.mijia.org/blog/?p=198</a></span></span></li>
	<li><span style="color: #0000ee;"><span style="text-decoration: underline;"><a href="http://dev.w3.org/geo/api/spec-source.html">http://dev.w3.org/geo/api/spec-source.html</a></span></span>，w3关于geo的规范</li>
	<li><span style="color: #0000ee;"><span style="text-decoration: underline;"><a href="https://developer.mozilla.org/En/Using_geolocation#Watching_the_current_position">https://developer.mozilla.org/En/Using_geolocation</a></span></span>，mozilla上的帮助</li>
	<li><span style="color: #0000ee;"><span style="text-decoration: underline;"><a href="http://blog.bcse.info/get-geolocation-via-javascript-2">http://blog.bcse.info/get-geolocation-via-javascript-2</a></span></span>，整合google gear便于支持非html5浏览器</li>
</ul></p>
</div>

  <footer>
    
    
  </footer>


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/7/">&larr; Older</a>
    
    <a href="/archives/">Blog Archives</a>
    
    <a class="next" href="/blog/page/5/">Newer &rarr;</a>
    
  </div>
</div>

<aside class="sidebar">
  
    
<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets" data-user="roy_wei" data-count="4" data-replies="false">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
    <a href="//twitter.com/roy_wei" class="twitter-follow-button" data-show-count="false">Follow @roy_wei</a>
  
</section>



<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/roymax?count=5&amp;sort=date&amp;callback=octopress.renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/roymax">My Delicious Bookmarks &raquo;</a></p>
</section>








  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - roymax -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'roynotes';
			var disqus_developer = '0';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>






</body>
</html>
